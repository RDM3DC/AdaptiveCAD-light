# AdaptiveCAD MCP Server

This package exposes a Model Context Protocol (MCP) server that wraps a subset of the AdaptiveCAD-light geometry helpers. The server can be used from MCP-aware clients such as VS Code Copilot Chat (developer tools) or ChatGPT Developer Mode connectors.

## Provided tools

- **health_check** – return an `ok` status and the MCP server version.
- **list_profiles** – enumerate the canonical revolve sketch profiles bundled with AdaptiveCAD.
- **generate_curve** – sample an adaptive πₐ curve given 2D control points and kernel parameters.
- **revolve_profile** – revolve a sketch profile into a triangle mesh using the adaptive revolve kernel.
- **export_obj** – convert a triangle mesh into ASCII OBJ text for downstream tools.

All tools use structured JSON schemas generated from Pydantic models (`adaptivecad_mcp_server.schemas`).

## Running locally (stdio)

```powershell
# Activate the repository virtual environment first
.\.venv\Scripts\activate
python -m adaptivecad_mcp_server --transport stdio
```

`stdio` transport is the default and is typically used for local MCP clients (e.g., VS Code) launched on the same machine.

## Running as an HTTP endpoint

```powershell
python -m adaptivecad_mcp_server --transport streamable-http --host 0.0.0.0 --port 8080
```

For SSE transport (ChatGPT connectors), supply `--transport sse --mount-path /adaptivecad` and ensure an HTTPS reverse proxy exposes the resulting `/adaptivecad` and `/adaptivecad/messages/` routes.

## Connector configuration

1. Deploy the server where your MCP client can reach it (local machine for stdio, HTTPS for SSE/HTTP).
2. In the client, provide the `/mcp` endpoint generated by the server (for `streamable-http` and `sse` transports).
3. Enable developer mode / MCP connectors per the client’s documentation.

The server reuses existing AdaptiveCAD modules, so the same environment requirements apply (see repository `requirements.txt`).
